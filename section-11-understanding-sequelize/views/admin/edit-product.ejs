<%# Combined add-product and edit-product into one template #%>

<%- include('../includes/head.ejs') %>
    <link rel='stylesheet' href='/css/forms.css'>
    <link rel='stylesheet' href='/css/product.css'>
</head>

<body>
   <%- include('../includes/navigation.ejs') %>

    <main class='centered'>
        <form
            class='product-form'
            action='<%- path %>'
            method='POST'
        >
            <div class='form-control'>
                <label for='title'>Title</label>
                <input
                    type='text'
                    name='title'
                    id='title'
                    value='<%- product?.title %>'
                    required
                >
            </div>
            <div class='form-control'>
                <label for='author'>Author</label>
                <input
                    type='text'
                    name='author'
                    id='author'
                    value='<%- product?.author %>'
                    required
                >
            </div>
            <div class='form-control'>
                <label for='published'>Published</label>
                <input
                    type='text'
                    name='published'
                    id='published'
                    placeholder='January 1st 2022'
                    value='<%- product?.published %>'
                    required
                >
            </div>
            <div class='form-control'>
                <label for='image'>Image File</label>
                <input
                    type='text'
                    name='image'
                    id='image'
                    value='<%- product?.image %>'
                >
            </div>
            <div class='form-control'>
                <label for='price'>Price</label>
                <input
                    type='number'
                    name='price'
                    id='price'
                    step='0.01'
                    value='<%- product?.price %>'
                    required
                >
            </div>
            <div class='form-control'>
                <label for='summary'>Summary</label>
                <textarea
                    class='resize-disabled'
                    name='summary'
                    id='summary'
                    rows='3'
                    maxlength='100'
                    required
                ><%- product?.summary %></textarea>
            </div>
            <div class='form-control'>
                <label for='description'>Description</label>
                <textarea
                    name='description'
                    id='description'
                    rows='7'
                    required
                ><%- product?.description %></textarea>
            </div>
            <button class='btn' type='submit'><%- buttonTitle %></button>
            <% if (editing) { %>
            <input type='hidden' name='id' value='<%- product.id %>'>
            <% } %>
        </form>
    </main>
<%- include('../includes/end.ejs') %>